<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>سلة المشتريات</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="m-2 font-sans bg-[#f9f9f9] rtl">
    <div
      class="cart-container m-0 bg-[#bcb9bc0d] p-8 rounded-[25px] shadow-none border border-black"
    >
      <h1 class="text-center text-2xl font-bold mb-6">Shopping cart</h1>
      <div id="cart-items"></div>
      <div id="cart-total"></div>
      <button
        class="bg-blue-600 hover:bg-blue-800 text-white w-full py-2 px-4 rounded-[25px] text-lg mt-6 transition-all"
        onclick="window.location.href='index.html'"
      >
        Return to the home page
      </button>
      <button
        id="empty-cart"
        class="w-full py-3 px-4 rounded-[25px] text-lg mt-6 border border-black bg-transparent text-black hover:bg-red-600 hover:text-white transition-all"
      >
        Empty the basket
      </button>
    </div>
    <script>
      // عرض محتوى السلة من localStorage
      const cartItemsDiv = document.getElementById("cart-items");
      const cartTotalDiv = document.getElementById("cart-total");
      const cart = JSON.parse(localStorage.getItem("cart")) || [];

      if (cart.length === 0) {
        cartItemsDiv.innerHTML =
          '<div class="text-center text-gray-500">The basket is empty</div>';
        cartTotalDiv.textContent = "";
      } else {
        let total = 0;
        cartItemsDiv.innerHTML = cart
          .map((item) => {
            total += item.price * item.quantity;
            return `<div class="flex justify-between items-center py-4 border-b border-[#e0cda9] text-lg text-black">
      <img src="${item.image}" alt="${item.name}" class="w-[60px] h-[60px] rounded-md ml-3">
      <span>${item.name}</span>
      <span>Quantity: ${item.quantity}</span>
      <span>the price: ${item.price} DH</span>
    </div>`;
          })
          .join("");
        cartTotalDiv.textContent = `the total: ${total} DH`;
        cartTotalDiv.className = "text-left font-bold mt-8 text-xl text-black";
      }

      // زر إفراغ السلة
      document.getElementById("empty-cart").onclick = function () {
        if (confirm("Are you sure you want to empty the cart?")) {
          localStorage.removeItem("cart");
          location.reload();
        }
      };
    </script>
  </body>
</html>
